/* Extracted from inline <style> blocks in index.html */
:root {
    --sci-fi-cyan: #00FFFF;
    --sci-fi-glow: rgba(0, 255, 255, 0.5);
    --background-dark: #0b0f14;
}
body { margin: 0; overflow: hidden; font-family: 'Fira Code', monospace; background-color: var(--background-dark); color: #fff; }
#canvas-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; cursor: grab; }
#canvas-container.interactive { cursor: pointer; }
#canvas-container:active { cursor: grabbing; }
#info-panel { position: absolute; top: 40px; right: 40px; width: 360px; background: rgba(10, 15, 26, 0.8); border: 1px solid rgba(0, 255, 255, 0.3); border-radius: 4px; padding: 24px; backdrop-filter: blur(10px) saturate(120%); -webkit-backdrop-filter: blur(10px) saturate(120%); opacity: 0; transform: scale(0.95) translateX(20px); transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1); pointer-events: none; color: #E0E0E0; box-shadow: 0 0 20px rgba(0, 255, 255, 0.2), inset 0 0 10px rgba(0, 255, 255, 0.1); }
#info-panel.visible { opacity: 1; transform: scale(1) translateX(0); pointer-events: auto; }
#info-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 15px; margin-bottom: 15px; border-bottom: 1px solid var(--sci-fi-cyan); }
#info-title { font-size: 1.2em; font-weight: 600; color: #fff; text-shadow: 0 0 5px var(--sci-fi-glow); }
#info-close { font-size: 1.8em; line-height: 1; cursor: pointer; color: var(--sci-fi-cyan); transition: all 0.2s; }
#info-close:hover { color: #fff; transform: rotate(90deg); }
#info-status { display: inline-block; padding: 4px 10px; border-radius: 4px; font-size: 0.8em; font-weight: 700; margin-bottom: 20px; text-transform: uppercase; border: 1px solid; }
.status-Warning { border-color: #F59E0B; color: #F59E0B; text-shadow: 0 0 5px #F59E0B; }
.status-Critical { border-color: #EF4444; color: #EF4444; text-shadow: 0 0 5px #EF4444; }
.status-Good { border-color: #22C55E; color: #22C55E; text-shadow: 0 0 5px #22C55E; }
#info-details-grid { display: grid; grid-template-columns: 140px 1fr; gap: 12px; margin-bottom: 20px; }
#info-details-grid .label { color: var(--sci-fi-cyan); }
.value { color: #fff; font-weight: 500; }
#info-description { font-size: 0.9em; line-height: 1.6; color: #ccc; }
#webcam-container { position: absolute; bottom: 20px; right: 20px; width: 240px; height: 180px; border: 2px solid var(--sci-fi-cyan); border-radius: 4px; box-shadow: 0 0 15px var(--sci-fi-glow); overflow: hidden; transition: opacity 0.5s; opacity: 0; pointer-events: none; }
#webcam-container.visible { opacity: 1; }
#webcam-feed, #overlay-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transform: scaleX(-1); }
#control-hint { position: absolute; left: 18px; top: 18px; background: rgba(0,0,0,0.45); color: var(--sci-fi-cyan); padding: 8px 12px; border-radius: 8px; font-size: 13px; pointer-events: none; box-shadow: 0 6px 18px rgba(0,0,0,0.6); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); z-index: 40; }
#component-list-panel { position: absolute; left: 18px; top: 110px; width: 300px; max-height: 65vh; overflow: auto; background: linear-gradient(180deg, rgba(2,6,12,0.9), rgba(2,6,12,0.75)); border: 1px solid rgba(0,255,255,0.06); padding: 10px; border-radius: 8px; z-index: 70; box-shadow: 0 12px 40px rgba(0,0,0,0.6); }
#component-list-panel h3 { margin: 0 0 8px 0; font-size: 13px; color: var(--sci-fi-cyan); }
.component-item { display:flex; gap:8px; align-items:center; padding:8px; border-radius:6px; cursor:pointer; transition: background 180ms; }
.component-item:hover { background: rgba(0,255,255,0.04); }
.component-item .dot { width:12px; height:12px; border-radius:50%; box-shadow:0 6px 14px rgba(0,255,255,0.04) inset; }
.component-item .title { font-size:13px; color:#dff; font-weight:600; }
.component-item .subtitle { font-size:11px; color:#9fe; opacity:0.85; }
.component-item.active { outline: 2px solid rgba(0,255,255,0.12); background: linear-gradient(90deg, rgba(0,255,255,0.02), rgba(0,120,160,0.03)); }
#calibration-overlay { display: none; }
#gesture-cursor { position: fixed; width: 28px; height: 28px; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%); mix-blend-mode: screen; border-radius:50%; box-shadow:0 8px 24px rgba(0,255,255,0.12); }
#mode-badge { position: absolute; left: 18px; top: 60px; background: rgba(0,0,0,0.6); color: #00fef0; padding: 6px 10px; border-radius: 8px; font-weight: 700; z-index: 60; box-shadow: 0 6px 20px rgba(0,255,255,0.06); backdrop-filter: blur(6px); }
#help-panel { position: absolute; left: 18px; bottom: 18px; width: 320px; background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6)); padding: 10px 12px; border-radius: 10px; font-size: 13px; z-index: 55; color: #bfeff0; }
.marker-label { position: absolute; transform: translate(-50%, -120%); pointer-events: none; white-space: nowrap; padding: 6px 8px; border-radius: 6px; background: rgba(0,0,0,0.6); color: #e6ffff; font-weight:600; font-size:12px; text-shadow:0 2px 8px rgba(0,0,0,0.6); z-index:70; }
.marker-glow { filter: blur(6px); opacity: 0.9; }
#cal-progress { height: 8px; background: rgba(255,255,255,0.06); border-radius: 6px; overflow: hidden; margin-top:8px; }
#cal-progress > i { display:block; height:100%; width:0%; background: linear-gradient(90deg, rgba(0,255,255,0.9), rgba(0,180,255,0.6)); transition: width 120ms linear; }
#fps-counter { position: absolute; right: 18px; top: 18px; color: #0ff; background: rgba(0,0,0,0.5); padding:6px 8px; border-radius:6px; z-index:60; font-family: monospace; }
#tutorial-overlay { position: fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:120; padding:40px; }
#tutorial-overlay.visible { display:flex; animation: tutFade .35s ease; }
@keyframes tutFade { from { opacity:0; transform:scale(.96);} to { opacity:1; transform:scale(1);} }
#tutorial-overlay .backdrop { position:absolute; inset:0; background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.85)); }
#tutorial-card { position:relative; width:880px; max-width:98%; background:radial-gradient(circle at 30% 20%, rgba(0,40,55,0.95), rgba(0,15,24,0.94)); border-radius:18px; padding:34px 42px 30px; color:#dff; box-shadow:0 28px 80px -10px rgba(0,0,0,0.7),0 0 0 1px rgba(0,255,255,0.08),0 0 40px -4px rgba(0,255,255,0.25) inset; border:1px solid rgba(0,255,255,0.18); z-index:121; backdrop-filter:blur(14px) saturate(140%); -webkit-backdrop-filter:blur(14px) saturate(140%); }
#tutorial-card h2 { margin:0 0 8px 0; color:var(--sci-fi-cyan); }
#tutorial-card p { margin:10px 0 16px 0; line-height:1.55; font-size:15px; color:#cfe; }
#tutorial-controls { display:flex; gap:8px; justify-content:flex-end; margin-top:12px; }
.tutorial-btn { background:rgba(0,255,255,0.06); color:#bff; padding:8px 12px; border-radius:8px; border:1px solid rgba(0,255,255,0.06); cursor:pointer; }
.tutorial-btn.primary { background:linear-gradient(90deg,#00fef0,#00aaff); color:#002; font-weight:700; }
#tutorial-pointer { position: fixed; width: 42px; height: 42px; border-radius:50%; background: radial-gradient(circle at 35% 35%, rgba(0,255,255,0.95), rgba(0,160,190,0.85)); box-shadow:0 0 0 4px rgba(0,255,255,0.2),0 0 30px 8px rgba(0,255,255,0.28); z-index:130; pointer-events:none; opacity:0; transform: translate(-50%,-50%) scale(.6); transition: opacity .35s ease, transform .45s cubic-bezier(.22,.85,.33,1.1); }
#tutorial-pointer[style*='opacity: 1'] { transform: translate(-50%,-50%) scale(1); }
#help-panel .help-header { display:flex; align-items:center; justify-content:space-between; gap:8px; background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.72)); padding:10px 12px; border-radius:10px; box-shadow: 0 12px 40px rgba(0,0,0,0.6); border:1px solid rgba(0,255,255,0.06); cursor:pointer; }
#help-panel .help-title { color: var(--sci-fi-cyan); font-weight:700; font-size:14px; }
#help-panel .icon-btn { background: transparent; border: none; color: var(--sci-fi-cyan); width: 34px; height: 34px; display:flex; align-items:center; justify-content:center; border-radius:6px; cursor:pointer; }
#help-panel .icon-btn svg { transition: transform 220ms cubic-bezier(.2,.9,.2,1); }
#help-body { overflow: hidden; border-radius: 8px; transform-origin: top center; box-shadow: 0 8px 30px rgba(0,0,0,0.45); }
#help-body .help-content { background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6)); padding: 12px; border-radius: 0 0 8px 8px; color: #cfe; }
.help-line { margin-bottom:8px; line-height:1.45; font-size:13px; }
.help-controls { display:flex; gap:8px; align-items:center; margin-top:6px; }
.control-label { font-size:12px; color:#9fe; min-width:72px; }
.help-cal { margin-top:8px; }
.help-links { margin-top:8px; font-size:12px; opacity:0.9; }
#help-panel.collapsed .help-body { height: 0px !important; }
#help-panel.expanded .help-body { height: auto; }

/* AI Chat animation styles */
#ai-chat.ai-chat-show{animation:aiChatEnter .45s cubic-bezier(.22,.85,.33,1.1) forwards;}
#ai-chat.ai-chat-hide{animation:aiChatExit .35s ease forwards;}
@keyframes aiChatEnter{0%{transform:translateY(26px) scale(.86);opacity:0}55%{transform:translateY(-6px) scale(1.02);opacity:1}100%{transform:translateY(0) scale(1);opacity:1}}
@keyframes aiChatExit{0%{transform:translateY(0) scale(1);opacity:1}100%{transform:translateY(22px) scale(.9);opacity:0}}
#ai-chat-launcher:hover{box-shadow:0 0 0 1px rgba(0,255,255,0.5),0 14px 46px -6px rgba(0,190,255,0.75),0 0 28px 2px rgba(0,255,255,0.75);transform:translateY(-4px);}

/* --- AI Markdown Table Styling --- */
.ai-table-wrapper { max-width:100%; overflow:auto; margin:14px 0 18px; padding:4px; background:linear-gradient(135deg,rgba(0,255,255,0.05),rgba(0,120,160,0.06)); border:1px solid rgba(0,255,255,0.12); border-radius:10px; box-shadow:0 4px 18px -6px rgba(0,0,0,0.6),0 0 22px -4px rgba(0,255,255,0.15) inset; }
.ai-table { width:100%; border-collapse:separate; border-spacing:0; font-size:13px; line-height:1.35; color:#e8ffff; background:rgba(0,20,28,0.55); backdrop-filter:blur(8px) saturate(140%); -webkit-backdrop-filter:blur(8px) saturate(140%); border:1px solid rgba(0,255,255,0.14); border-radius:8px; overflow:hidden; }

/* AI Summary Loading Animation */
#sqh-ai-summary.loading{display:flex;align-items:center;justify-content:center;position:relative;}
.ai-loader{--s:42px;position:relative;width:var(--s);height:var(--s);}
.ai-loader .ring{position:absolute;inset:0;border-radius:50%;border:3px solid rgba(0,255,255,0.15);mask:radial-gradient(circle at center,rgba(0,0,0,0) 52%,rgba(0,0,0,1) 53%);}
.ai-loader .arc{position:absolute;inset:0;border-radius:50%;border:3px solid transparent;}
.ai-loader .arc.a{border-top-color:#29f;border-right-color:#29f;animation:spin 1.1s linear infinite;filter:drop-shadow(0 0 6px #29f8);} 
.ai-loader .arc.b{border-bottom-color:#0ff;border-left-color:#0ff;animation:spin 1.4s linear infinite reverse;filter:drop-shadow(0 0 4px #0ff8);} 
.ai-loader .dot{position:absolute;top:50%;left:50%;width:8px;height:8px;margin:-4px 0 0 -4px;background:#fff;border-radius:50%;animation:pulse 1.6s ease-in-out infinite;box-shadow:0 0 12px 2px rgba(255,255,255,0.55);} 
@keyframes spin{to{transform:rotate(360deg);} }
@keyframes pulse{0%,100%{transform:scale(.6);opacity:.5;}50%{transform:scale(1);opacity:1;}}

/* AI Chat Typing Indicator */
.ai-typing{display:flex;align-items:center;gap:8px;font:600 11px/1.4 system-ui,sans-serif;color:#8ad7ff;opacity:.85;letter-spacing:.5px;padding:6px 2px 4px 2px;}
.ai-typing .pulses{display:flex;gap:6px;}
.ai-typing .pulse{width:7px;height:7px;border-radius:50%;background:#29f;box-shadow:0 0 8px -1px #29f,0 0 2px 0 #29f inset;animation:aiPulse 1s ease-in-out infinite;}
.ai-typing .pulse:nth-child(2){animation-delay:.18s;background:#14c8ff;}
.ai-typing .pulse:nth-child(3){animation-delay:.36s;background:#0ff;}
@keyframes aiPulse{0%,80%,100%{transform:scale(.35);opacity:.35;}40%{transform:scale(1);opacity:1;}}

/* AI Chat Copy Button */
.ai-copy-btn{position:absolute;top:6px;right:6px;background:rgba(0,40,60,0.55);border:1px solid rgba(0,255,255,0.25);color:#9fe;font-size:10px;font-weight:600;padding:4px 6px;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:4px;opacity:0;transition:opacity .25s,background .25s;backdrop-filter:blur(4px) saturate(140%);}
.ai-msg:hover > .ai-copy-btn{opacity:1;}
.ai-copy-btn:active{background:rgba(0,120,180,0.55);} 
.ai-copy-btn.copied{color:#0f8;background:rgba(0,80,40,0.6);border-color:#0f8;}

.ai-table th, .ai-table td { padding:8px 12px; text-align:left; border-right:1px solid rgba(0,255,255,0.08); border-bottom:1px solid rgba(0,255,255,0.08); }
.ai-table th { font-weight:600; color:#aff; background:linear-gradient(180deg,rgba(0,90,110,0.55),rgba(0,50,70,0.55)); position:sticky; top:0; backdrop-filter:blur(6px); }
.ai-table tr:last-child td { border-bottom:none; }
.ai-table th:last-child, .ai-table td:last-child { border-right:none; }
.ai-table tbody tr:nth-child(even) { background:rgba(0,255,255,0.03); }
.ai-table tbody tr:hover { background:rgba(0,255,255,0.08); }
.ai-table code { background:rgba(0,255,255,0.08); padding:2px 5px; border-radius:4px; font-size:12px; color:#9ff; }
.ai-table-wrapper::-webkit-scrollbar { height:10px; width:10px; }
.ai-table-wrapper::-webkit-scrollbar-track { background:rgba(0,255,255,0.05); border-radius:6px; }
.ai-table-wrapper::-webkit-scrollbar-thumb { background:linear-gradient(180deg,#00c5d4,#007a99); border-radius:6px; box-shadow:0 0 0 1px rgba(0,0,0,0.4) inset; }
